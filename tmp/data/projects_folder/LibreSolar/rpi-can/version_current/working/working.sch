EESchema Schematic File Version 4
LIBS:CAN_RPi-ZeroW-cache
EELAYER 26 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 1 1
Title "Libre Solar CAN interface for Raspberry Pi (Zero W)"
Date "2017-11-20"
Rev "0.1"
Comp "Libre Solar"
Comment1 "Author: Martin JÃ¤ger"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Connector:RJ45 J1
U 1 1 5A134C56
P 13350 2550
F 0 "J1" V 12775 2545 50  0000 C CNN
F 1 "RJ45" V 12866 2545 50  0000 C CNN
F 2 "LibreSolar:RJ45_8P8C" H 13350 2550 50  0001 C CNN
F 3 "" H 13350 2550 50  0001 C CNN
	1    13350 2550
	0    -1   1    0   
$EndComp
Wire Wire Line
	13800 2200 14250 2200
Wire Wire Line
	13800 2300 14250 2300
Text Label 14250 2200 2    50   ~ 0
CAN_H
Text Label 14250 2300 2    50   ~ 0
CAN_L
Wire Wire Line
	13800 2400 14350 2400
Wire Wire Line
	13800 2500 14250 2500
Wire Wire Line
	13800 2600 14250 2600
Wire Wire Line
	13800 2700 14250 2700
Wire Wire Line
	13800 2800 14350 2800
Wire Wire Line
	13800 2900 14250 2900
Text Label 14250 2400 2    50   ~ 0
CAN_GND
Text Label 14250 2900 2    50   ~ 0
CAN_V+
Text Label 14250 2800 2    50   ~ 0
CAN_GND
Text Label 14250 2700 2    50   ~ 0
CAN_SHLD
Text Label 14250 2600 2    50   ~ 0
RJ45_5
Text Label 14250 2500 2    50   ~ 0
RJ45_4
$Comp
L Connector:Test_Point TP1
U 1 1 5A138087
P 8350 9600
F 0 "TP1" H 8408 9720 50  0000 L CNN
F 1 "CANH" H 8408 9629 50  0000 L CNN
F 2 "Measurement_Points:Test_Point_Keystone_5000-5004_Miniature" H 8550 9600 50  0001 C CNN
F 3 "~" H 8550 9600 50  0001 C CNN
	1    8350 9600
	1    0    0    -1  
$EndComp
$Comp
L Connector:Test_Point TP2
U 1 1 5A1380F1
P 9000 9600
F 0 "TP2" H 9058 9720 50  0000 L CNN
F 1 "CANL" H 9058 9629 50  0000 L CNN
F 2 "Measurement_Points:Test_Point_Keystone_5000-5004_Miniature" H 9200 9600 50  0001 C CNN
F 3 "~" H 9200 9600 50  0001 C CNN
	1    9000 9600
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 9600 8350 9950
Wire Wire Line
	9000 9600 9000 9950
Text Label 8350 9950 1    50   ~ 0
CAN_H
Text Label 9000 9950 1    50   ~ 0
CAN_L
$Comp
L Connector:Test_Point TP3
U 1 1 5A138CDA
P 9600 9600
F 0 "TP3" H 9658 9720 50  0000 L CNN
F 1 "V+" H 9658 9629 50  0000 L CNN
F 2 "Measurement_Points:Test_Point_Keystone_5000-5004_Miniature" H 9800 9600 50  0001 C CNN
F 3 "~" H 9800 9600 50  0001 C CNN
	1    9600 9600
	1    0    0    -1  
$EndComp
$Comp
L Connector:Test_Point TP4
U 1 1 5A138D06
P 10200 9600
F 0 "TP4" H 10258 9720 50  0000 L CNN
F 1 "GND" H 10258 9629 50  0000 L CNN
F 2 "Measurement_Points:Test_Point_Keystone_5000-5004_Miniature" H 10400 9600 50  0001 C CNN
F 3 "~" H 10400 9600 50  0001 C CNN
	1    10200 9600
	1    0    0    -1  
$EndComp
Wire Wire Line
	9600 9600 9600 9950
Wire Wire Line
	10200 9600 10200 9950
Text Label 9600 9950 1    50   ~ 0
CAN_V+
Text Label 10200 9950 1    50   ~ 0
CAN_GND
$Comp
L Switch:SW_SPST SW1
U 1 1 5A13B32C
P 11350 3600
F 0 "SW1" H 11350 3835 50  0000 C CNN
F 1 "SW_SPST" H 11350 3744 50  0000 C CNN
F 2 "Pin_Headers:Pin_Header_Angled_1x02_Pitch2.54mm" H 11350 3600 50  0001 C CNN
F 3 "" H 11350 3600 50  0001 C CNN
	1    11350 3600
	1    0    0    -1  
$EndComp
Wire Wire Line
	10700 3600 10200 3600
Wire Wire Line
	10900 3600 11150 3600
Wire Wire Line
	11550 3600 12100 3600
Text Label 10200 3600 0    50   ~ 0
CAN_H
Text Label 12100 3600 2    50   ~ 0
CAN_L
Text Label 14250 4100 2    50   ~ 0
RJ45_4
Text Label 14250 4200 2    50   ~ 0
RJ45_5
Text Label 14250 4300 2    50   ~ 0
CAN_SHLD
Text Label 14250 4400 2    50   ~ 0
CAN_GND
Text Label 14250 4500 2    50   ~ 0
CAN_V+
Text Label 14250 4000 2    50   ~ 0
CAN_GND
Wire Wire Line
	13800 4500 14250 4500
Wire Wire Line
	13800 4400 14350 4400
Wire Wire Line
	13800 4300 14250 4300
Wire Wire Line
	13800 4200 14250 4200
Wire Wire Line
	13800 4100 14250 4100
Wire Wire Line
	13800 4000 14350 4000
Text Label 14250 3900 2    50   ~ 0
CAN_L
Text Label 14250 3800 2    50   ~ 0
CAN_H
Wire Wire Line
	13800 3900 14250 3900
Wire Wire Line
	13800 3800 14250 3800
$Comp
L Connector:RJ45 J2
U 1 1 5A134EA7
P 13350 4150
F 0 "J2" V 12775 4145 50  0000 C CNN
F 1 "RJ45" V 12866 4145 50  0000 C CNN
F 2 "LibreSolar:RJ45_8P8C" H 13350 4150 50  0001 C CNN
F 3 "" H 13350 4150 50  0001 C CNN
	1    13350 4150
	0    -1   1    0   
$EndComp
$Comp
L LibreSolar:MCP2515-E_ST U2
U 1 1 5A1444C1
P 3700 3000
F 0 "U2" H 3250 3750 50  0000 C CNN
F 1 "MCP2515-I/ST" H 4050 3750 50  0000 C CNN
F 2 "Housings_SSOP:TSSOP-20_4.4x6.5mm_Pitch0.65mm" H 3700 2100 50  0001 C CIN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/21801e.pdf" H 3800 2200 50  0001 C CNN
	1    3700 3000
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR01
U 1 1 5A14C29E
P 1800 3500
F 0 "#PWR01" H 1800 3250 50  0001 C CNN
F 1 "GND" H 1800 3350 50  0000 C CNN
F 2 "" H 1800 3500 50  0000 C CNN
F 3 "" H 1800 3500 50  0000 C CNN
	1    1800 3500
	1    0    0    -1  
$EndComp
Text Label 1350 3200 0    50   ~ 0
OSC1
Text Label 2300 3200 2    50   ~ 0
OSC2
Wire Wire Line
	1350 3200 1600 3200
Wire Wire Line
	2000 3200 2300 3200
$Comp
L IEC-60617:Resonator Y1
U 1 1 5A14C2AC
P 1800 3200
F 0 "Y1" H 1800 3300 50  0000 C CNN
F 1 "8MHz" H 1850 3025 50  0000 L CNN
F 2 "LibreSolar:Resonator_Murata_CSTCE" H 1800 3200 50  0001 C CNN
F 3 "" H 1800 3200 50  0000 C CNN
F 4 "Murata" H -3300 -1150 50  0001 C CNN "Manufacturer"
F 5 "CSTCE8M00G15C99-R0" H -3300 -1150 50  0001 C CNN "PartNumber"
F 6 "0.1% tolerance" H -3300 1800 60  0001 C CNN "Remarks"
F 7 "0.1%" H 1850 2950 50  0000 L CNN "Tolerance"
	1    1800 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	1800 3400 1800 3500
Text Notes 2050 3700 0    50   ~ 0
Tight tolerance\nfor CAN interface
$Comp
L power:GND #PWR02
U 1 1 5A14C51B
P 6000 9300
F 0 "#PWR02" H 6000 9050 50  0001 C CNN
F 1 "GND" H 6000 9150 50  0000 C CNN
F 2 "" H 6000 9300 50  0000 C CNN
F 3 "" H 6000 9300 50  0000 C CNN
	1    6000 9300
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:R R3
U 1 1 5A14C526
P 6000 8800
F 0 "R3" V 5925 8800 50  0000 C CNN
F 1 "470" V 6075 8800 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" H 6000 8800 50  0001 C CNN
F 3 "" H 6000 8800 50  0000 C CNN
F 4 "Yageo" H -3500 3900 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-07470RL" H -3500 3900 50  0001 C CNN "PartNumber"
	1    6000 8800
	1    0    0    1   
$EndComp
$Comp
L IEC-60617:LED LED1
U 1 1 5A14C52D
P 6000 9100
F 0 "LED1" H 6125 9150 50  0000 L CNN
F 1 "LED" H 6125 9050 50  0000 L CNN
F 2 "LEDs:LED_0603" V 6000 9100 50  0001 C CNN
F 3 "" V 6000 9100 50  0000 C CNN
	1    6000 9100
	1    0    0    -1  
$EndComp
Text Label 6000 8400 3    50   ~ 0
LED1
Wire Wire Line
	6000 8700 6000 8400
Wire Wire Line
	6000 9200 6000 9300
Wire Wire Line
	6000 8900 6000 9000
$Comp
L power:GND #PWR03
U 1 1 5A14E0EE
P 11900 7700
F 0 "#PWR03" H 11900 7450 50  0001 C CNN
F 1 "GND" H 11900 7550 50  0000 C CNN
F 2 "" H 11900 7700 50  0000 C CNN
F 3 "" H 11900 7700 50  0000 C CNN
	1    11900 7700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR04
U 1 1 5A14E0F4
P 11500 7700
F 0 "#PWR04" H 11500 7450 50  0001 C CNN
F 1 "GND" H 11500 7550 50  0000 C CNN
F 2 "" H 11500 7700 50  0000 C CNN
F 3 "" H 11500 7700 50  0000 C CNN
	1    11500 7700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR05
U 1 1 5A14E0FA
P 11100 7700
F 0 "#PWR05" H 11100 7450 50  0001 C CNN
F 1 "GND" H 11100 7550 50  0000 C CNN
F 2 "" H 11100 7700 50  0000 C CNN
F 3 "" H 11100 7700 50  0000 C CNN
	1    11100 7700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR06
U 1 1 5A14E100
P 10100 7300
F 0 "#PWR06" H 10100 7050 50  0001 C CNN
F 1 "GND" H 9975 7225 50  0000 C CNN
F 2 "" H 10100 7300 50  0000 C CNN
F 3 "" H 10100 7300 50  0000 C CNN
	1    10100 7300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR07
U 1 1 5A14E106
P 8400 7200
F 0 "#PWR07" H 8400 6950 50  0001 C CNN
F 1 "GND" H 8400 7050 50  0000 C CNN
F 2 "" H 8400 7200 50  0000 C CNN
F 3 "" H 8400 7200 50  0000 C CNN
	1    8400 7200
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR08
U 1 1 5A14E10C
P 8800 7200
F 0 "#PWR08" H 8800 6950 50  0001 C CNN
F 1 "GND" H 8800 7050 50  0000 C CNN
F 2 "" H 8800 7200 50  0000 C CNN
F 3 "" H 8800 7200 50  0000 C CNN
	1    8800 7200
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:R R5
U 1 1 5A14E11D
P 11100 7500
F 0 "R5" V 11025 7500 50  0000 C CNN
F 1 "10k" V 11175 7500 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" V 10925 7400 50  0001 C CNN
F 3 "" H 11100 7500 50  0000 C CNN
F 4 "Yageo" H 5400 4500 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-0710KL" H 5400 4500 50  0001 C CNN "PartNumber"
	1    11100 7500
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:C C10
U 1 1 5A14E129
P 11900 7400
F 0 "C10" H 11920 7470 50  0000 L CNN
F 1 "10u" H 11920 7330 50  0000 L CNN
F 2 "LibreSolar:C_0805_2012" H 11900 7400 50  0001 C CNN
F 3 "" H 11900 7400 50  0000 C CNN
F 4 "Murata" H 5400 4550 50  0001 C CNN "Manufacturer"
F 5 "GRM21BR61E106KA73L" H 5400 4550 50  0001 C CNN "PartNumber"
	1    11900 7400
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:C C9
U 1 1 5A14E135
P 11500 7400
F 0 "C9" H 11520 7470 50  0000 L CNN
F 1 "10u" H 11520 7330 50  0000 L CNN
F 2 "LibreSolar:C_0805_2012" H 11500 7400 50  0001 C CNN
F 3 "" H 11500 7400 50  0000 C CNN
F 4 "Murata" H 5400 4550 50  0001 C CNN "Manufacturer"
F 5 "GRM21BR61E106KA73L" H 5400 4550 50  0001 C CNN "PartNumber"
	1    11500 7400
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:R R4
U 1 1 5A14E13E
P 11100 7100
F 0 "R4" V 11025 7100 50  0000 C CNN
F 1 "52.3k" V 11175 7100 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" V 10925 7000 50  0001 C CNN
F 3 "" H 11100 7100 50  0000 C CNN
F 4 "Yageo" H 5400 4500 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-0752K3L" H 5400 4500 50  0001 C CNN "PartNumber"
	1    11100 7100
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:D_Schottky D2
U 1 1 5A14E148
P 10100 7100
F 0 "D2" H 10100 7200 50  0000 C CNN
F 1 "SS16FP" H 10100 7000 50  0000 C CNN
F 2 "Diodes_SMD:D_PowerDI-123" V 10100 7100 50  0001 C CNN
F 3 "" V 10100 7100 50  0000 C CNN
F 4 "Diodes Inc." H 5400 4500 50  0001 C CNN "Manufacturer"
F 5 "SS16FP" H 5400 4500 50  0001 C CNN "PartNumber"
F 6 "DFLS160-7" H 4000 4300 60  0001 C CNN "Alternative"
	1    10100 7100
	0    -1   1    0   
$EndComp
$Comp
L IEC-60617:C C5
U 1 1 5A14E154
P 10050 6700
F 0 "C5" H 10070 6770 50  0000 L CNN
F 1 "100n" H 10070 6630 50  0000 L CNN
F 2 "LibreSolar:C_0603_1608" H 10050 6700 50  0001 C CNN
F 3 "" H 10050 6700 50  0000 C CNN
F 4 "Murata" H 5400 4500 50  0001 C CNN "Manufacturer"
F 5 "GRM188R71H104KA93D" H 5400 4500 50  0001 C CNN "PartNumber"
F 6 "" H 5400 4500 50  0001 C CNN "SPR"
F 7 "" H 5400 4500 50  0001 C CNN "SPN"
F 8 "" H 5400 4500 50  0001 C CNN "SPURL"
	1    10050 6700
	0    -1   -1   0   
$EndComp
$Comp
L IEC-60617:C C7
U 1 1 5A14E16E
P 8400 7000
F 0 "C7" H 8425 7075 50  0000 L CNN
F 1 "10u" H 8425 6925 50  0000 L CNN
F 2 "LibreSolar:C_0805_2012" H 8400 6800 50  0001 C CNN
F 3 "" H 8425 7075 50  0000 C CNN
F 4 "Murata" H 5400 4250 50  0001 C CNN "Manufacturer"
F 5 "GRM21BR61E106KA73L" H 5400 4250 50  0001 C CNN "PartNumber"
F 6 "25V, X5R" H 4300 4300 60  0001 C CNN "Remarks"
	1    8400 7000
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:L L2
U 1 1 5A14E181
P 10650 6900
F 0 "L2" H 10650 6970 50  0000 C CNN
F 1 "22uH" H 10650 6850 50  0000 C CNN
F 2 "LibreSolar:L_WE-TPC-4818" V 10650 6900 50  0001 C CNN
F 3 "" V 10650 6900 50  0000 C CNN
F 4 "Bourns" H 10650 6900 60  0001 C CNN "Manufacturer"
F 5 "SRR5028-470Y" H 10650 6900 60  0001 C CNN "PartNumber"
F 6 "WE-TPC-5828 744053470" H 10650 6900 60  0001 C CNN "Alternative"
	1    10650 6900
	1    0    0    -1  
$EndComp
$Comp
L LibreSolar:LMR16006 U3
U 1 1 5A14E18A
P 9300 6900
F 0 "U3" H 9300 7250 50  0000 C CNN
F 1 "MCP16301" H 9300 6550 50  0000 C CNN
F 2 "LibreSolar:SOT-23-6" H 9300 6450 50  0001 C CNN
F 3 "" H 8900 7300 50  0000 C CNN
F 4 "Microchip" H 5400 4550 50  0001 C CNN "Manufacturer"
F 5 "MCP16301" H 5400 4550 50  0001 C CNN "PartNumber"
	1    9300 6900
	1    0    0    -1  
$EndComp
$Comp
L power:PWR_FLAG #FLG01
U 1 1 5A14E191
P 11600 6800
F 0 "#FLG01" H 11600 6875 50  0001 C CNN
F 1 "PWR_FLAG" H 11600 6950 50  0000 C CNN
F 2 "" H 11600 6800 50  0001 C CNN
F 3 "" H 11600 6800 50  0001 C CNN
	1    11600 6800
	1    0    0    -1  
$EndComp
$Comp
L power:PWR_FLAG #FLG02
U 1 1 5A14E197
P 8600 6600
F 0 "#FLG02" H 8600 6675 50  0001 C CNN
F 1 "PWR_FLAG" H 8600 6750 50  0000 C CNN
F 2 "" H 8600 6600 50  0001 C CNN
F 3 "" H 8600 6600 50  0001 C CNN
	1    8600 6600
	1    0    0    -1  
$EndComp
Wire Wire Line
	10750 6900 11900 6900
Wire Wire Line
	11100 6900 11100 7000
Wire Wire Line
	11500 6900 11500 7300
Wire Wire Line
	10100 7200 10100 7300
Wire Wire Line
	8800 7100 8800 7200
Wire Wire Line
	11100 7700 11100 7600
Wire Wire Line
	11500 7500 11500 7700
Wire Wire Line
	8400 7200 8400 7100
Wire Wire Line
	11900 7500 11900 7700
Wire Wire Line
	11100 7200 11100 7400
Wire Wire Line
	9700 7100 9800 7100
Wire Wire Line
	9800 7100 9800 7500
Wire Wire Line
	9700 6700 9950 6700
Wire Wire Line
	9700 6900 10550 6900
Wire Wire Line
	10100 7000 10100 6900
Wire Wire Line
	10150 6700 10300 6700
Wire Wire Line
	10300 6700 10300 6900
Wire Wire Line
	8400 6900 8400 6700
Wire Wire Line
	8900 6900 8800 6900
Wire Wire Line
	8800 6900 8800 6700
Wire Wire Line
	11900 6800 11900 7300
Wire Wire Line
	8800 7100 8900 7100
Wire Wire Line
	11600 6800 11600 6900
Wire Wire Line
	8600 6600 8600 6700
Connection ~ 11100 6900
Connection ~ 11100 7300
Connection ~ 10100 6900
Connection ~ 10300 6900
Connection ~ 8400 6700
Connection ~ 8800 6700
Connection ~ 11500 6900
Connection ~ 11900 6900
Connection ~ 11600 6900
Connection ~ 8600 6700
Text Notes 8550 5900 0    100  ~ 0
CAN bus supply voltage to 5V SMPS
Wire Wire Line
	9800 7500 10600 7500
Wire Wire Line
	10600 7500 10600 7300
Wire Wire Line
	10600 7300 11100 7300
Text Notes 12850 7100 0    50   ~ 0
DCDC_IN chosen as input\nin to stay alive if solar\ngoes down for boost mode\noperation (battery on high side)
$Comp
L interface:TJA1049T-3 U1
U 1 1 5A144F99
P 8900 2700
F 0 "U1" H 8550 3050 50  0000 C CNN
F 1 "TJA1042T/3" H 9200 3050 50  0000 C CNN
F 2 "Housings_SOIC:SOIC-8_3.9x4.9mm_Pitch1.27mm" H 8900 2200 50  0001 C CIN
F 3 "http://www.nxp.com/documents/data_sheet/TJA1049.pdf" H 8900 2700 50  0001 C CNN
	1    8900 2700
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR012
U 1 1 5A14CB8C
P 7350 2450
F 0 "#PWR012" H 7350 2300 50  0001 C CNN
F 1 "+3.3V" H 7350 2590 50  0000 C CNN
F 2 "" H 7350 2450 50  0000 C CNN
F 3 "" H 7350 2450 50  0000 C CNN
	1    7350 2450
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR013
U 1 1 5A14CB92
P 7000 2450
F 0 "#PWR013" H 7000 2300 50  0001 C CNN
F 1 "+5V" H 7000 2590 50  0000 C CNN
F 2 "" H 7000 2450 50  0000 C CNN
F 3 "" H 7000 2450 50  0000 C CNN
	1    7000 2450
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR014
U 1 1 5A14CB98
P 7350 2850
F 0 "#PWR014" H 7350 2600 50  0001 C CNN
F 1 "GND" H 7350 2700 50  0000 C CNN
F 2 "" H 7350 2850 50  0000 C CNN
F 3 "" H 7350 2850 50  0000 C CNN
	1    7350 2850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR015
U 1 1 5A14CB9E
P 7000 2850
F 0 "#PWR015" H 7000 2600 50  0001 C CNN
F 1 "GND" H 7000 2700 50  0000 C CNN
F 2 "" H 7000 2850 50  0000 C CNN
F 3 "" H 7000 2850 50  0000 C CNN
	1    7000 2850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR016
U 1 1 5A14CBA4
P 11750 2650
F 0 "#PWR016" H 11750 2400 50  0001 C CNN
F 1 "GND" H 11750 2500 50  0000 C CNN
F 2 "" H 11750 2650 50  0000 C CNN
F 3 "" H 11750 2650 50  0000 C CNN
	1    11750 2650
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:C C2
U 1 1 5A14CBAF
P 7350 2650
F 0 "C2" H 7370 2720 50  0000 L CNN
F 1 "100n" H 7370 2580 50  0000 L CNN
F 2 "LibreSolar:C_0603_1608" H 7350 2650 50  0001 C CNN
F 3 "" H 7350 2650 50  0000 C CNN
F 4 "Murata" H 550 900 50  0001 C CNN "Manufacturer"
F 5 "GRM188R71H104KA93D" H 550 900 50  0001 C CNN "PartNumber"
F 6 "" H 550 900 50  0001 C CNN "SPR"
F 7 "" H 550 900 50  0001 C CNN "SPN"
F 8 "" H 550 900 50  0001 C CNN "SPURL"
	1    7350 2650
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:C C1
U 1 1 5A14CBBB
P 7000 2650
F 0 "C1" H 7020 2720 50  0000 L CNN
F 1 "100n" H 7020 2580 50  0000 L CNN
F 2 "LibreSolar:C_0603_1608" H 7000 2650 50  0001 C CNN
F 3 "" H 7000 2650 50  0000 C CNN
F 4 "Murata" H 600 900 50  0001 C CNN "Manufacturer"
F 5 "GRM188R71H104KA93D" H 600 900 50  0001 C CNN "PartNumber"
F 6 "" H 600 900 50  0001 C CNN "SPR"
F 7 "" H 600 900 50  0001 C CNN "SPN"
F 8 "" H 600 900 50  0001 C CNN "SPURL"
	1    7000 2650
	1    0    0    -1  
$EndComp
$Comp
L LibreSolar:NUP2105L D1
U 1 1 5A14CBCD
P 11350 2550
F 0 "D1" H 11350 2800 50  0000 C CNN
F 1 "NUP2105L" H 11350 2300 50  0000 C CNN
F 2 "LibreSolar:SOT-23" H 11350 2150 60  0001 C CNN
F 3 "" H 11400 2550 60  0001 C CNN
F 4 "ON Semiconductor" H 1200 850 50  0001 C CNN "Manufacturer"
F 5 "NUP2105LT1G" H 1200 850 50  0001 C CNN "PartNumber"
	1    11350 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	7350 2550 7350 2450
Wire Wire Line
	7000 2450 7000 2550
Wire Wire Line
	7000 2750 7000 2850
Wire Wire Line
	11650 2550 11750 2550
Wire Wire Line
	11750 2550 11750 2650
Wire Wire Line
	7350 2850 7350 2750
Wire Wire Line
	11050 2450 10750 2450
Wire Wire Line
	11050 2650 10750 2650
Text Label 10750 2450 0    50   ~ 0
CAN_H
Text Label 10750 2650 0    50   ~ 0
CAN_L
Wire Wire Line
	4600 8100 5200 8100
Wire Wire Line
	4600 8200 5200 8200
Wire Wire Line
	4600 8300 5200 8300
Wire Wire Line
	4600 8000 5200 8000
$Comp
L power:GND #PWR030
U 1 1 5A15D40D
P 3900 9600
F 0 "#PWR030" H 3900 9350 50  0001 C CNN
F 1 "GND" H 3905 9427 50  0000 C CNN
F 2 "" H 3900 9600 50  0001 C CNN
F 3 "" H 3900 9600 50  0001 C CNN
	1    3900 9600
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR026
U 1 1 5A15E50C
P 3800 6500
F 0 "#PWR026" H 3800 6350 50  0001 C CNN
F 1 "+3.3V" H 3800 6640 50  0000 C CNN
F 2 "" H 3800 6500 50  0000 C CNN
F 3 "" H 3800 6500 50  0000 C CNN
	1    3800 6500
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR025
U 1 1 5A15E512
P 3500 6500
F 0 "#PWR025" H 3500 6350 50  0001 C CNN
F 1 "+5V" H 3500 6640 50  0000 C CNN
F 2 "" H 3500 6500 50  0000 C CNN
F 3 "" H 3500 6500 50  0000 C CNN
	1    3500 6500
	1    0    0    -1  
$EndComp
Wire Wire Line
	3800 6500 3800 6800
Wire Wire Line
	3500 6500 3500 6800
Wire Wire Line
	3500 6600 3600 6600
Wire Wire Line
	3600 6600 3600 6800
Wire Wire Line
	3800 6600 3900 6600
Wire Wire Line
	3900 6600 3900 6800
Connection ~ 3800 6600
Connection ~ 3500 6600
Wire Wire Line
	3300 9400 3300 9500
Wire Wire Line
	3700 9400 3700 9500
Connection ~ 3700 9500
Wire Wire Line
	3600 9400 3600 9500
Connection ~ 3600 9500
Wire Wire Line
	3500 9400 3500 9500
Connection ~ 3500 9500
Wire Wire Line
	3400 9400 3400 9500
Connection ~ 3400 9500
$Comp
L power:GND #PWR022
U 1 1 5A1961B3
P 14350 2950
F 0 "#PWR022" H 14350 2700 50  0001 C CNN
F 1 "GND" H 14355 2777 50  0000 C CNN
F 2 "" H 14350 2950 50  0001 C CNN
F 3 "" H 14350 2950 50  0001 C CNN
	1    14350 2950
	1    0    0    -1  
$EndComp
Wire Wire Line
	14350 2400 14350 2950
Connection ~ 14350 2800
$Comp
L power:GND #PWR027
U 1 1 5A1A1448
P 14350 4500
F 0 "#PWR027" H 14350 4250 50  0001 C CNN
F 1 "GND" H 14355 4327 50  0000 C CNN
F 2 "" H 14350 4500 50  0001 C CNN
F 3 "" H 14350 4500 50  0001 C CNN
	1    14350 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	14350 4000 14350 4500
Connection ~ 14350 4400
$Comp
L power:GND #PWR019
U 1 1 5A1ACAC5
P 8900 3200
F 0 "#PWR019" H 8900 2950 50  0001 C CNN
F 1 "GND" H 8905 3027 50  0000 C CNN
F 2 "" H 8900 3200 50  0001 C CNN
F 3 "" H 8900 3200 50  0001 C CNN
	1    8900 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	8900 3100 8900 3200
$Comp
L power:+5V #PWR017
U 1 1 5A1B24A4
P 8900 2200
F 0 "#PWR017" H 8900 2050 50  0001 C CNN
F 1 "+5V" H 8900 2340 50  0000 C CNN
F 2 "" H 8900 2200 50  0000 C CNN
F 3 "" H 8900 2200 50  0000 C CNN
	1    8900 2200
	1    0    0    -1  
$EndComp
Wire Wire Line
	8900 2300 8900 2200
Wire Wire Line
	4300 2400 4750 2400
Wire Wire Line
	4300 2500 4750 2500
Text Label 4750 2400 2    50   ~ 0
RXCAN
Text Label 4750 2500 2    50   ~ 0
TXCAN
Wire Wire Line
	8400 2500 8100 2500
Wire Wire Line
	8400 2600 8100 2600
Text Label 8100 2500 0    50   ~ 0
TXCAN
Text Label 8100 2600 0    50   ~ 0
RXCAN
Text Label 5200 8000 2    50   ~ 0
SPI_CE0
Text Label 5200 8100 2    50   ~ 0
SPI_MISO
Text Label 5200 8200 2    50   ~ 0
SPI_MOSI
Text Label 5200 8300 2    50   ~ 0
SPI_SCLK
Wire Wire Line
	2800 8000 2200 8000
Text Label 2200 8000 0    50   ~ 0
LED1
$Comp
L power:+3.3V #PWR024
U 1 1 5A1DC223
P 5050 3200
F 0 "#PWR024" H 5050 3050 50  0001 C CNN
F 1 "+3.3V" H 5050 3340 50  0000 C CNN
F 2 "" H 5050 3200 50  0000 C CNN
F 3 "" H 5050 3200 50  0000 C CNN
	1    5050 3200
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:R R1
U 1 1 5A1DC4C2
P 10800 3600
F 0 "R1" V 10725 3600 50  0000 C CNN
F 1 "120" V 10875 3600 50  0000 C CNN
F 2 "LibreSolar:R_1206_3216" V 10625 3500 50  0001 C CNN
F 3 "" H 10800 3600 50  0000 C CNN
F 4 "Yageo" H 5100 1000 50  0001 C CNN "Manufacturer"
F 5 "RC1206FR-07120RL" H 5100 1000 50  0001 C CNN "PartNumber"
	1    10800 3600
	0    1    1    0   
$EndComp
Wire Wire Line
	4300 3600 5050 3600
Wire Wire Line
	5050 3300 5050 3200
$Comp
L IEC-60617:R R2
U 1 1 5A1F0446
P 5050 3400
F 0 "R2" V 4975 3400 50  0000 C CNN
F 1 "4.7k" V 5125 3400 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" V 4875 3300 50  0001 C CNN
F 3 "" H 5050 3400 50  0000 C CNN
F 4 "Yageo" H -650 800 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-074K7L" H -650 800 50  0001 C CNN "PartNumber"
	1    5050 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	3100 3200 2650 3200
Wire Wire Line
	3100 3300 2650 3300
Text Label 2650 3200 0    50   ~ 0
OSC2
Text Label 2650 3300 0    50   ~ 0
OSC1
NoConn ~ 3100 3400
Wire Wire Line
	3100 2400 2650 2400
Wire Wire Line
	3100 2500 2650 2500
Wire Wire Line
	3100 2600 2650 2600
Wire Wire Line
	3100 2700 2650 2700
Text Label 2650 2700 0    50   ~ 0
SPI_SCLK
Text Label 2650 2600 0    50   ~ 0
SPI_CE0
Text Label 2650 2500 0    50   ~ 0
SPI_MISO
Text Label 2650 2400 0    50   ~ 0
SPI_MOSI
Wire Wire Line
	2800 8300 2200 8300
Text Label 2200 8300 0    50   ~ 0
CAN_INT
Wire Wire Line
	4300 3000 4750 3000
Text Label 4750 3000 2    50   ~ 0
CAN_INT
Text Label 8000 6700 0    50   ~ 0
CAN_V+
$Comp
L power:+3.3V #PWR020
U 1 1 5A232986
P 3700 2100
F 0 "#PWR020" H 3700 1950 50  0001 C CNN
F 1 "+3.3V" H 3700 2240 50  0000 C CNN
F 2 "" H 3700 2100 50  0000 C CNN
F 3 "" H 3700 2100 50  0000 C CNN
	1    3700 2100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR028
U 1 1 5A2329CD
P 3700 3900
F 0 "#PWR028" H 3700 3650 50  0001 C CNN
F 1 "GND" H 3700 3750 50  0000 C CNN
F 2 "" H 3700 3900 50  0000 C CNN
F 3 "" H 3700 3900 50  0000 C CNN
	1    3700 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	3700 2200 3700 2100
Wire Wire Line
	3700 3800 3700 3900
$Comp
L power:+3.3V #PWR021
U 1 1 5A242CB3
P 1800 2250
F 0 "#PWR021" H 1800 2100 50  0001 C CNN
F 1 "+3.3V" H 1800 2390 50  0000 C CNN
F 2 "" H 1800 2250 50  0000 C CNN
F 3 "" H 1800 2250 50  0000 C CNN
	1    1800 2250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR023
U 1 1 5A242CB9
P 1800 2650
F 0 "#PWR023" H 1800 2400 50  0001 C CNN
F 1 "GND" H 1800 2500 50  0000 C CNN
F 2 "" H 1800 2650 50  0000 C CNN
F 3 "" H 1800 2650 50  0000 C CNN
	1    1800 2650
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:C C3
U 1 1 5A242CC4
P 1800 2450
F 0 "C3" H 1820 2520 50  0000 L CNN
F 1 "100n" H 1820 2380 50  0000 L CNN
F 2 "LibreSolar:C_0603_1608" H 1800 2450 50  0001 C CNN
F 3 "" H 1800 2450 50  0000 C CNN
F 4 "Murata" H -5000 700 50  0001 C CNN "Manufacturer"
F 5 "GRM188R71H104KA93D" H -5000 700 50  0001 C CNN "PartNumber"
F 6 "" H -5000 700 50  0001 C CNN "SPR"
F 7 "" H -5000 700 50  0001 C CNN "SPN"
F 8 "" H -5000 700 50  0001 C CNN "SPURL"
	1    1800 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	1800 2350 1800 2250
Wire Wire Line
	1800 2650 1800 2550
Wire Wire Line
	9400 2600 9950 2600
Wire Wire Line
	9400 2800 9950 2800
Text Label 9950 2800 2    50   ~ 0
CAN_L
Text Label 9950 2600 2    50   ~ 0
CAN_H
$Comp
L power:GND #PWR029
U 1 1 5A257423
P 5050 4000
F 0 "#PWR029" H 5050 3750 50  0001 C CNN
F 1 "GND" H 5050 3850 50  0000 C CNN
F 2 "" H 5050 4000 50  0000 C CNN
F 3 "" H 5050 4000 50  0000 C CNN
	1    5050 4000
	1    0    0    -1  
$EndComp
$Comp
L IEC-60617:C C4
U 1 1 5A25742E
P 5050 3800
F 0 "C4" H 5070 3870 50  0000 L CNN
F 1 "100n" H 5070 3730 50  0000 L CNN
F 2 "LibreSolar:C_0603_1608" H 5050 3800 50  0001 C CNN
F 3 "" H 5050 3800 50  0000 C CNN
F 4 "Murata" H -1750 2050 50  0001 C CNN "Manufacturer"
F 5 "GRM188R71H104KA93D" H -1750 2050 50  0001 C CNN "PartNumber"
F 6 "" H -1750 2050 50  0001 C CNN "SPR"
F 7 "" H -1750 2050 50  0001 C CNN "SPN"
F 8 "" H -1750 2050 50  0001 C CNN "SPURL"
	1    5050 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	5050 4000 5050 3900
Wire Wire Line
	5050 3500 5050 3700
Connection ~ 5050 3600
Text Notes 5400 4050 0    50   ~ 0
Datasheet: Reset should be\nheld at least 2us after power-up\nTime constant: 4.7k * 100uF = 470us\n--> sufficient
Wire Wire Line
	4300 3100 4750 3100
Wire Wire Line
	4300 3200 4750 3200
Wire Wire Line
	4300 3300 4750 3300
Wire Wire Line
	4300 3400 4750 3400
Wire Wire Line
	4300 3500 4750 3500
Text Label 4750 3500 2    50   ~ 0
TX2RTS
Text Label 4750 3400 2    50   ~ 0
TX1RTS
Text Label 4750 3300 2    50   ~ 0
TX0RTS
Text Label 4750 3200 2    50   ~ 0
RX1BF
Text Label 4750 3100 2    50   ~ 0
TX0BF
Wire Wire Line
	8400 2800 7900 2800
Wire Wire Line
	7900 2700 7900 2800
$Comp
L power:+3.3V #PWR018
U 1 1 5A2E151E
P 7900 2700
F 0 "#PWR018" H 7900 2550 50  0001 C CNN
F 1 "+3.3V" H 7900 2840 50  0000 C CNN
F 2 "" H 7900 2700 50  0000 C CNN
F 3 "" H 7900 2700 50  0000 C CNN
	1    7900 2700
	1    0    0    -1  
$EndComp
$Comp
L LibreSolar:LIBRESOLAR_LOGO N1
U 1 1 5A3219B0
P 14550 9700
F 0 "N1" H 14550 9700 50  0001 C CNN
F 1 "LIBRESOLAR_LOGO" H 14850 9550 50  0001 C CNN
F 2 "LibreSolar:LIBRESOLAR_LOGO" H 14550 9700 60  0001 C CNN
F 3 "" H 14550 9700 60  0001 C CNN
	1    14550 9700
	1    0    0    -1  
$EndComp
$Comp
L Graphic:Logo_Open_Hardware_Small LOGO1
U 1 1 5A321A58
P 14000 9350
F 0 "LOGO1" H 14000 9625 50  0000 C CNN
F 1 "Logo_Open_Hardware" H 14000 9050 50  0000 C CNN
F 2 "Symbols:OSHW-Logo2_9.8x8mm_SilkScreen" H 14000 9350 50  0001 C CNN
F 3 "~" H 14000 9350 50  0001 C CNN
	1    14000 9350
	1    0    0    -1  
$EndComp
Wire Wire Line
	8000 6700 8900 6700
$Comp
L IEC-60617:D D3
U 1 1 5A33F462
P 10650 6400
F 0 "D3" H 10650 6616 50  0000 C CNN
F 1 "1N4148W" H 10650 6525 50  0000 C CNN
F 2 "LibreSolar:D_SOD-123" H 10650 6524 50  0001 C CNN
F 3 "" V 10650 6400 50  0000 C CNN
	1    10650 6400
	1    0    0    -1  
$EndComp
Wire Wire Line
	10750 6400 10950 6400
Wire Wire Line
	10950 6400 10950 6900
Connection ~ 10950 6900
Wire Wire Line
	10550 6400 9800 6400
Wire Wire Line
	9800 6400 9800 6700
Connection ~ 9800 6700
$Comp
L power:+5V #PWR09
U 1 1 5A355AD6
P 11900 6800
F 0 "#PWR09" H 11900 6650 50  0001 C CNN
F 1 "+5V" H 11900 6940 50  0000 C CNN
F 2 "" H 11900 6800 50  0000 C CNN
F 3 "" H 11900 6800 50  0000 C CNN
	1    11900 6800
	1    0    0    -1  
$EndComp
Text Notes 2700 5900 0    100  ~ 0
Raspberry Pi HAT connector
Text Notes 9000 9000 0    100  ~ 0
Test Points
Text Notes 3000 1400 0    100  ~ 0
CAN controller
Text Notes 8400 1400 0    100  ~ 0
CAN transceiver
Text Notes 11000 1400 0    100  ~ 0
ESD protection + Connector
Wire Wire Line
	8400 2900 7900 2900
Text Label 8000 2900 0    50   ~ 0
CAN_STB
Wire Wire Line
	2800 8200 2200 8200
Text Label 2200 8200 0    50   ~ 0
CAN_STB
$Comp
L LibreSolar:Raspberry_Pi_HAT_26p J3
U 1 1 5A3B347A
P 3700 8100
F 0 "J3" H 2950 9350 50  0000 C CNN
F 1 "Raspberry_Pi_HAT_26p" H 4500 9350 50  0000 C CNN
F 2 "Socket_Strips:Socket_Strip_Straight_2x13_Pitch2.54mm" H 4700 9350 50  0001 C CNN
F 3 "https://www.raspberrypi.org/documentation/hardware/raspberrypi/schematics/RPI-3B-V1_2-SCHEMATIC-REDUCED.pdf" H 3750 7950 50  0001 C CNN
	1    3700 8100
	1    0    0    -1  
$EndComp
NoConn ~ 4600 7400
NoConn ~ 4600 7300
NoConn ~ 4600 7200
NoConn ~ 4600 7900
NoConn ~ 2800 8100
NoConn ~ 2800 7700
NoConn ~ 2800 7600
NoConn ~ 2800 7500
NoConn ~ 4600 8800
NoConn ~ 4600 8900
Wire Wire Line
	3300 9500 3900 9500
Wire Wire Line
	3900 9500 3900 9600
NoConn ~ 13000 4700
NoConn ~ 13000 3100
$Comp
L IEC-60617:R R6
U 1 1 5A396C3A
P 7900 3100
F 0 "R6" V 7825 3100 50  0000 C CNN
F 1 "1M" V 7975 3100 50  0000 C CNN
F 2 "LibreSolar:R_0603_1608" V 7725 3000 50  0001 C CNN
F 3 "" H 7900 3100 50  0000 C CNN
F 4 "Yageo" H 2200 100 50  0001 C CNN "Manufacturer"
F 5 "RC0603FR-071ML" H 2200 100 50  0001 C CNN "PartNumber"
	1    7900 3100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR010
U 1 1 5A396E8D
P 7900 3300
F 0 "#PWR010" H 7900 3050 50  0001 C CNN
F 1 "GND" H 7905 3127 50  0000 C CNN
F 2 "" H 7900 3300 50  0001 C CNN
F 3 "" H 7900 3300 50  0001 C CNN
	1    7900 3300
	1    0    0    -1  
$EndComp
Wire Wire Line
	7900 2900 7900 3000
Wire Wire Line
	7900 3200 7900 3300
$EndSCHEMATC
